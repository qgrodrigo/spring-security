https://github.com/qgrodrigo/spring-security.git

CREATE TABLE personal (
    id INT AUTO_INCREMENT PRIMARY KEY,
    nombre VARCHAR(50) NOT NULL CHECK (nombre REGEXP '^[a-zA-Z]+$'),
    apellido_paterno VARCHAR(50) NOT NULL CHECK (apellido_paterno REGEXP '^[a-zA-Z]+$'),
    apellido_materno VARCHAR(50) NOT NULL CHECK (apellido_materno REGEXP '^[a-zA-Z]+$'),
    dni CHAR(8) NOT NULL UNIQUE CHECK (dni REGEXP '^[0-9]{8}$'),
    celular CHAR(9) NOT NULL UNIQUE CHECK (celular REGEXP '^[0-9]{9}$'),
    correo VARCHAR(100) NOT NULL UNIQUE CHECK (correo LIKE '%@gmail.com'),
    urlimg TEXT NOT NULL,
    fechacreacion TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);


CREATE TABLE usuario (
    id INT AUTO_INCREMENT PRIMARY KEY,
    idpersona INT NOT NULL UNIQUE,
    idrol INT NOT NULL,
    usuario VARCHAR(100) NOT NULL UNIQUE,
    clave VARCHAR(255) NOT NULL,
    estado ENUM('Activo', 'Desactivo') NOT NULL DEFAULT 'Activo',
    FOREIGN KEY (idpersona) REFERENCES persona(id),
    FOREIGN KEY (idrol) REFERENCES rol(id)
);

CREATE TABLE rol (
    id INT AUTO_INCREMENT PRIMARY KEY,
    nombre VARCHAR(50) NOT NULL UNIQUE
);
